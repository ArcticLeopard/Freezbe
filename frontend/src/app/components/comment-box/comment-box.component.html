<div class="px-3" [class.opened]="isOpen">
  <div>
    <textarea #textAreaRef (focus)="this.isOpen = true" (keydown)="keyDownDetector($event)" [value]="inputValue" class="bg-classic hl focus p-4 pointer commentBox" id="commentTextArea" placeholder="Add your comment..." title="Add your comment">
    </textarea>
    <div [hidden]="!this.isOpen" class="px-1 pt-2">
      <span class="pr-3" (click)="insertCheckbox()">
        <svg width="20" height="20" viewBox="0 0 16 16" fill="#ABABAB">
          <path d="M16,7l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
          <path d="M16,12l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
          <path d="M16,2l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
          <path d="M5.961,1.387c0.05,-0.049 0.052,-0.128 0.006,-0.18c-0.046,-0.053 -0.124,-0.06 -0.18,-0.018l-3.251,2.508c-0.004,0.004 -0.009,0.008 -0.013,0.012c-0.208,0.207 -0.545,0.207 -0.753,-0c-0.004,-0.005 -0.009,-0.009 -0.014,-0.013l-0.306,-0.228c-0.008,-0.006 -0.016,-0.01 -0.024,-0.014l-1.239,-0.574c-0.058,-0.027 -0.127,-0.008 -0.163,0.044c-0.037,0.053 -0.031,0.124 0.015,0.169l1.488,1.489c0.342,0.342 0.897,0.342 1.239,-0l3.195,-3.195Z" />
          <path d="M5.961,6.387c0.05,-0.049 0.052,-0.128 0.006,-0.18c-0.046,-0.053 -0.124,-0.06 -0.18,-0.018l-3.251,2.508c-0.004,0.004 -0.009,0.008 -0.013,0.012c-0.208,0.207 -0.545,0.207 -0.753,-0c-0.004,-0.005 -0.009,-0.009 -0.014,-0.013l-0.306,-0.228c-0.008,-0.006 -0.016,-0.01 -0.024,-0.014l-1.239,-0.574c-0.058,-0.027 -0.127,-0.008 -0.163,0.044c-0.037,0.053 -0.031,0.124 0.015,0.169l1.488,1.489c0.342,0.342 0.897,0.342 1.239,-0l3.195,-3.195Z" />
          <title>Add checklist</title>
        </svg>
      </span>
      <span class="pr-3" (click)="insertBulletList()">
        <svg width="20" height="20" viewBox="0 0 16 16" fill="#ABABAB">
          <path d="M16,7l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
          <path d="M16,12l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
          <path d="M16,2l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
          <circle cx="2.5" cy="3" r="1.5" />
          <circle cx="2.5" cy="8" r="1.5" />
          <circle cx="2.5" cy="13" r="1.5" />
          <title>Add bullet list</title>
        </svg>
      </span>
      <span class="pr-3" (click)="insertNumberedList()">
        <svg width="20" height="20" viewBox="0 0 16 16" fill="#ABABAB">
          <path d="M16,7l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
	        <path d="M16,12l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
	        <path d="M16,2l-8,0c-1.105,-0 -2,0.895 -2,2c0,-0 0,0 0,0l8,0c1.105,0 2,-0.895 2,-2c0,0 0,0 0,0Z" />
	        <path d="M3.583,7.372c-0.444,-0 -0.666,-0.201 -0.666,-0.603l-0,-4.581l-0.504,0c-0.186,0 -0.325,-0.062 -0.419,-0.184c-0.092,-0.124 -0.139,-0.26 -0.139,-0.41c-0,-0.15 0.047,-0.287 0.139,-0.409c0.094,-0.124 0.233,-0.185 0.419,-0.185l1.143,0c0.438,0 0.657,0.201 0.657,0.603l-0,5.166c-0,0.204 -0.05,0.355 -0.149,0.454c-0.099,0.099 -0.259,0.149 -0.481,0.149Z" style="fill-rule:nonzero;" />
	        <path d="M1.63,15c-0.168,0 -0.297,-0.039 -0.387,-0.117c-0.09,-0.078 -0.151,-0.177 -0.185,-0.297c-0.032,-0.12 -0.05,-0.249 -0.054,-0.387c-0.002,-0.138 -0.004,-0.267 -0.004,-0.387c0,-0.534 0.114,-0.957 0.342,-1.269c0.228,-0.312 0.624,-0.552 1.188,-0.72c0.306,-0.102 0.548,-0.197 0.724,-0.283c0.178,-0.088 0.305,-0.207 0.383,-0.36c0.078,-0.153 0.117,-0.371 0.117,-0.653c-0,-0.198 -0.057,-0.371 -0.171,-0.517c-0.114,-0.148 -0.312,-0.221 -0.594,-0.221c-0.168,0 -0.343,0.012 -0.527,0.036c-0.182,0.024 -0.355,0.036 -0.517,0.036c-0.24,0 -0.415,-0.045 -0.527,-0.135c-0.11,-0.09 -0.166,-0.228 -0.166,-0.414c-0,-0.246 0.126,-0.417 0.378,-0.513c0.318,-0.132 0.72,-0.198 1.206,-0.198c0.69,0 1.23,0.169 1.62,0.509c0.39,0.338 0.585,0.808 0.585,1.408c-0,0.444 -0.06,0.816 -0.18,1.116c-0.12,0.3 -0.318,0.549 -0.594,0.747c-0.276,0.198 -0.648,0.366 -1.116,0.504c-0.33,0.096 -0.556,0.196 -0.68,0.302c-0.122,0.104 -0.184,0.259 -0.184,0.463l-0,0.097c-0,0 0.279,0.002 0.477,0.002l1.611,0c0.222,0 0.393,0.054 0.513,0.162c0.12,0.108 0.18,0.264 0.18,0.468c-0,0.414 -0.231,0.621 -0.693,0.621l-2.745,0Z" style="fill-rule:nonzero;" />
          <title>Add numbered list</title>
        </svg>
      </span>
    </div>
    <div [hidden]="!isOpen">
      <button type="button" class="bg-gray-dark hd focus p-2 my-3 pointer commentButton" (click)="addComment()">
        <span class="text-center">Add your comment...</span>
      </button>
    </div>
  </div>
</div>
